"use strict";(self.webpackChunkorb_accounts=self.webpackChunkorb_accounts||[]).push([[355,914,40],{2008:(e,t,r)=>{r.r(t),r.d(t,{default:()=>a});const a=function(e){const{error:t}=e;return React.createElement("main",{className:"error"},React.createElement("div",{className:"status-bar card error"},React.createElement("span",null,t)))}},8914:(e,t,r)=>{r.r(t),r.d(t,{default:()=>a});const a=function(){return React.createElement("div",{className:"loading"},React.createElement("h1",null,"Loading......"))}},56:(e,t,r)=>{r.r(t),r.d(t,{default:()=>R});var a=r(7294),n=r(9250),c=r(5998),o=r(2345),s=r(2047),l=r(5055),m=r(9227),i=r(2869),u=r(8914),d=r(2008),E=r(8849);const R=function(){const{id:e}=(0,n.UO)(),[t,r]=(0,a.useState)(""),[R,p]=(0,a.useState)(""),{user_email:g}=(0,c.v9)((e=>e.accountsUser)),{stripe_invoice_id:b,status:f,amount_remaining:h}=(0,c.v9)((e=>e.accountsInvoice)),{paymentLoading:v,paymentError:y}=(0,c.v9)((e=>e.accountsPayment)),{receipt_id:_}=(0,c.v9)((e=>e.accountsReceipt)),N=(0,c.I0)();return(0,a.useEffect)((()=>{g&&N((0,s.PR)()).then((t=>{void 0!==t.error?(console.error(t.error.message),r("error"),p(t.error.message)):N((0,l.o4)(e,t.payload.stripe_customer_id)).then((e=>{void 0!==e.error?(console.error(e.error.message),r("error"),p(e.error.message)):N((0,i.xt)(e.payload.stripe_invoice_id)).then((e=>{void 0!==e.error?(console.error(e.error.message),r("error"),p(e.error.message)):N((0,i.Lu)(e.payload.payment_intent_id)).then((e=>{void 0!==e.error&&(console.error(e.error.message),r("error"),p(e.error.message))}))}))}))}))}),[g,N]),(0,a.useEffect)((()=>{"open"===f?p("Choose a payment method"):"paid"===f&&0===h&&p("This invoice has been paid in full.")}),[f,h]),(0,a.useEffect)((()=>{b&&N((0,m.jg)()).then((e=>{void 0!==e.error&&(console.error(e.error.message),r("error"),p(e.error.message))}))}),[b,N]),v?React.createElement(u.default,null):y?React.createElement(d.default,{error:y}):React.createElement(React.Fragment,null,React.createElement("section",{className:"payment"},React.createElement("h2",{className:"title"},"PAYMENT"),"open"===f?React.createElement(o.Z,null):"",React.createElement(E.Z,{message:R,messageType:t}),_&&"paid"==f?React.createElement("button",{onClick:()=>{_&&(window.location.href=`/billing/receipt/${_}`)}},React.createElement("h3",null,"RECEIPT")):""))}},2345:(e,t,r)=>{r.d(t,{Z:()=>c});var a=r(9655),n=r(9250);const c=function(){const{id:e}=(0,n.UO)();return React.createElement(React.Fragment,null,React.createElement("div",{className:"payment-options"},React.createElement(a.OL,{to:`/billing/payment/wallet/${e}`},React.createElement("button",{className:"mobile-btn",id:"mobile-btn"},React.createElement("h3",null,"WALLET"))),React.createElement(a.OL,{to:`/billing/payment/card/${e}`},React.createElement("button",{className:"debit-credit-btn",id:"debit-credit-btn"},React.createElement("h3",null,"CARD")))))}},8849:(e,t,r)=>{r.d(t,{Z:()=>a});const a=function(e){const{message:t,messageType:r}=e;return React.createElement(React.Fragment,null,t&&React.createElement("div",{className:`status-bar card ${r}`},React.createElement("span",null,React.createElement("h4",null,t))))}}}]);