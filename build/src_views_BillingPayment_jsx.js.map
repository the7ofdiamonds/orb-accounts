{"version":3,"file":"src_views_BillingPayment_jsx.js","mappings":"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","sources":["webpack://orb-accounts/./src/error/ErrorComponent.jsx","webpack://orb-accounts/./src/loading/LoadingComponent.jsx","webpack://orb-accounts/./src/views/BillingPayment.jsx","webpack://orb-accounts/./src/views/components/PaymentNavigation.jsx","webpack://orb-accounts/./src/views/components/StatusBar.jsx"],"sourcesContent":["function ErrorComponent(props) {\n  const { error } = props;\n  console.log(error);\n  return (\n    <main className=\"error\">\n      <div className=\"status-bar card error\">\n        <span>{error}</span>\n      </div>\n    </main>\n  );\n}\n\nexport default ErrorComponent;\n","function LoadingComponent() {\n  return (\n    <div className=\"loading\">\n      <h1>Loading......</h1>\n    </div>\n  );\n}\n\nexport default LoadingComponent;\n","import { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport PaymentNavigationComponent from './components/PaymentNavigation.jsx';\n\nimport { getClient } from '../controllers/accountsClientSlice.js';\nimport { getStripeCustomer } from '../controllers/accountsCustomerSlice.js';\nimport {\n  getInvoiceByID,\n  getStripeInvoice,\n} from '../controllers/accountsInvoiceSlice.js';\nimport { getPaymentIntent } from '../controllers/accountsPaymentSlice.js';\nimport { getReceipt } from '../controllers/accountsReceiptSlice.js';\n\nimport LoadingComponent from '../loading/LoadingComponent.jsx';\nimport ErrorComponent from '../error/ErrorComponent.jsx';\nimport StatusBar from './components/StatusBar.jsx';\n\nfunction PaymentComponent() {\n  const { id } = useParams();\n\n  const [messageType, setMessageType] = useState('');\n  const [message, setMessage] = useState('');\n\n  const { user_email } = useSelector((state) => state.accountsClient);\n  const { stripe_invoice_id, status, amount_remaining } = useSelector(\n    (state) => state.accountsInvoice\n  );\n  const { paymentLoading, paymentError } = useSelector(\n    (state) => state.accountsPayment\n  );\n  const { receipt_id } = useSelector((state) => state.accountsReceipt);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (user_email) {\n      dispatch(getClient()).then((response) => {\n        if (response.error !== undefined) {\n          console.error(response.error.message);\n          setMessageType('error');\n          setMessage(response.error.message);\n        } else {\n          dispatch(getStripeCustomer(response.payload.stripe_customer_id)).then(\n            (response) => {\n              if (response.error !== undefined) {\n                console.error(response.error.message);\n                setMessageType('error');\n                setMessage(response.error.message);\n              } else {\n                dispatch(\n                  getInvoiceByID(id, response.payload.stripe_customer_id)\n                ).then((response) => {\n                  if (response.error !== undefined) {\n                    console.error(response.error.message);\n                    setMessageType('error');\n                    setMessage(response.error.message);\n                  } else {\n                    dispatch(\n                      getStripeInvoice(response.payload.stripe_invoice_id)\n                    ).then((response) => {\n                      if (response.error !== undefined) {\n                        console.error(response.error.message);\n                        setMessageType('error');\n                        setMessage(response.error.message);\n                      } else {\n                        dispatch(\n                          getPaymentIntent(response.payload.payment_intent_id)\n                        ).then((response) => {\n                          if (response.error !== undefined) {\n                            console.error(response.error.message);\n                            setMessageType('error');\n                            setMessage(response.error.message);\n                          }\n                        });\n                      }\n                    });\n                  }\n                });\n              }\n            }\n          );\n        }\n      });\n    }\n  }, [user_email, dispatch]);\n\n  useEffect(() => {\n    if (status === 'open') {\n      setMessage('Choose a payment method');\n    } else if (status === 'paid' && amount_remaining === 0) {\n      setMessage('This invoice has been paid in full.');\n    }\n  }, [status, amount_remaining]);\n\n  useEffect(() => {\n    if (stripe_invoice_id) {\n      dispatch(getReceipt()).then((response) => {\n        if (response.error !== undefined) {\n          console.error(response.error.message);\n          setMessageType('error');\n          setMessage(response.error.message);\n        }\n      });\n    }\n  }, [stripe_invoice_id, dispatch]);\n\n  const handleClick = () => {\n    if (receipt_id) {\n      window.location.href = `/billing/receipt/${receipt_id}`;\n    }\n  };\n\n  if (paymentLoading) {\n    return <LoadingComponent />;\n  }\n\n  if (paymentError) {\n    return <ErrorComponent error={paymentError} />;\n  }\n\n  return (\n    <>\n      <section className=\"payment\">\n        <h2 className=\"title\">PAYMENT</h2>\n\n        {status === 'open' ? <PaymentNavigationComponent /> : ''}\n\n        <StatusBar message={message} messageType={messageType} />\n\n        {receipt_id && status == 'paid' ? (\n          <button onClick={handleClick}>\n            <h3>RECEIPT</h3>\n          </button>\n        ) : (\n          ''\n        )}\n      </section>\n    </>\n  );\n}\n\nexport default PaymentComponent;\n","import { NavLink } from 'react-router-dom';\nimport {\n  useNavigate,\n  useParams,\n} from 'react-router-dom';\n\nfunction PaymentNavigationComponent() {\n  const { id } = useParams();\n\n  return (\n    <>      \n      <div className=\"payment-options\">\n        <NavLink to={`/billing/payment/wallet/${id}`}>\n          <button className=\"mobile-btn\" id=\"mobile-btn\">\n            <h3>WALLET</h3>\n          </button>\n        </NavLink>\n\n        <NavLink to={`/billing/payment/card/${id}`}>\n          <button className=\"debit-credit-btn\" id=\"debit-credit-btn\">\n            <h3>CARD</h3>\n          </button>\n        </NavLink>\n      </div>\n    </>\n  );\n}\n\nexport default PaymentNavigationComponent;\n","function StatusBarComponent(props) {\n  const { message, messageType } = props;\n\n  return (\n    <>\n      {message && (\n        <div className={`status-bar card ${messageType}`}>\n          <span>{message}</span>\n        </div>\n      )}\n    </>\n  );\n}\n\nexport default StatusBarComponent;\n"],"names":["ErrorComponent","props","error","console","log","createElement","className","LoadingComponent","useEffect","useState","useParams","useDispatch","useSelector","PaymentNavigationComponent","getClient","getStripeCustomer","getInvoiceByID","getStripeInvoice","getPaymentIntent","getReceipt","StatusBar","PaymentComponent","id","messageType","setMessageType","message","setMessage","user_email","state","accountsClient","stripe_invoice_id","status","amount_remaining","accountsInvoice","paymentLoading","paymentError","accountsPayment","receipt_id","accountsReceipt","dispatch","then","response","undefined","payload","stripe_customer_id","payment_intent_id","handleClick","window","location","href","Fragment","onClick","NavLink","useNavigate","to","StatusBarComponent"],"sourceRoot":""}